<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: PCIE buffer transfer RC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM64x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">10.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_PCIE_BUF_TRANSFER_RC.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PCIE buffer transfer RC </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md648">Introduction</a></li>
<li class="level1"><a href="#autotoc_md649">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md650">Steps to Run the Example</a><ul><li class="level2"><a href="#autotoc_md651">Build the example</a></li>
<li class="level2"><a href="#autotoc_md652">HW Setup</a><ul><li class="level3"><a href="#autotoc_md653">AM64X-EVM</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md654">Run the example</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md655">See Also</a><ul><li class="level2"><a href="#autotoc_md656">Sample output</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_pcie_buf_transfer_rc"></a></p>
<h1><a class="anchor" id="autotoc_md648"></a>
Introduction</h1>
<p>The PCIe buffer transfer (RC) example demonstrates a buffer transfer between RC and EP device.</p>
<p>The RC device sends a buffer to the EP device, and the EP device loops back the same buffer to RC. RC device validates the buffer transfer by comparing the buffer received from EP with the original source buffer.</p>
<h1><a class="anchor" id="autotoc_md649"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0_freertos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am64x-evm   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/pcie/pcie_buf_transfer/pcie_buf_transfer_rc   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md650"></a>
Steps to Run the Example</h1>
<h2><a class="anchor" id="autotoc_md651"></a>
Build the example</h2>
<ul>
<li>When using CCS projects to build, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li>When using makefiles to build, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md652"></a>
HW Setup</h2>
<dl class="section note"><dt>Note</dt><dd>Make sure you have setup the EVM with cable connections as shown here, <a class="el" href="EVM_SETUP_PAGE.html">EVM Setup</a>. In addition do below steps.</dd></dl>
<h3><a class="anchor" id="autotoc_md653"></a>
AM64X-EVM</h3>
<ul>
<li>For connecting two board in RC and EP mode a specialized cable as below is required  <style>div.image img[src="pcie_cable.png"]{ width:50%}</style> <div class="image">
<img src="pcie_cable.png" alt=""/>
</div>
</li>
<li>This cable can be obtained from Adex Electronics (<a href="https://www.adexelec.com">https://www.adexelec.com</a>).</li>
<li>Modify the cable to remove resistors in CK+ and CK- in order to avoid ground loops (power) and smoking clock drivers (clk+/-).</li>
<li>The ends of the modified cable should look like below:<ul>
<li><p class="startli">A side  <style>div.image img[src="pcie_cable_a1.png"]{width:90%}</style>  <style>div.image img[src="pcie_cable_a2.png"]{width:90%}</style></p>
<table style="border: 0 px">
<tr>
<td><div class="image">
<img src="pcie_cable_a1.png" alt=""/>
<div class="caption">
PCIe cable A side end 1</div></div>
  </td><td><div class="image">
<img src="pcie_cable_a2.png" alt=""/>
<div class="caption">
PCIe cable A side end 2</div></div>
   </td></tr>
</table>
</li>
<li><p class="startli">B side  <style>div.image img[src="pcie_cable_b1.png"]{width:90%}</style>  <style>div.image img[src="pcie_cable_b2.png"]{width:90%}</style></p>
<table style="border: 0 px">
<tr>
<td><div class="image">
<img src="pcie_cable_b1.png" alt=""/>
<div class="caption">
PCIe cable B side end 1</div></div>
  </td><td><div class="image">
<img src="pcie_cable_b2.png" alt=""/>
<div class="caption">
PCIe cable B side end 2</div></div>
   </td></tr>
</table>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md654"></a>
Run the example</h2>
<ul>
<li>Launch a CCS debug session and run the example executable, see CCS Launch, Load and Run</li>
<li>Run the <a class="el" href="EXAMPLES_DRIVERS_PCIE_BUF_TRANSFER_EP.html">PCIE buffer transfer EP</a> example on the other connected board</li>
<li>You will see logs in the UART terminal as shown in the next section.</li>
</ul>
<h1><a class="anchor" id="autotoc_md655"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_PCIE_PAGE.html">PCIE</a> </p>
<h2><a class="anchor" id="autotoc_md656"></a>
Sample output</h2>
<div class="fragment"><div class="line">Device in RC mode</div>
<div class="line">Endpoint Device ID: 100X</div>
<div class="line">Endpoint Vendor ID: 17CDX</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
