<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: MCU Reset Isolation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM64x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">10.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('MCU_RESET_ISOLATION.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MCU Reset Isolation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md280">MCU Domain Reset Isolation: Introduction</a></li>
<li class="level1"><a href="#autotoc_md281">Reset Isolation: Developing a reset isolated safety application</a><ul><li class="level2"><a href="#autotoc_md282">MCU Domain</a></li>
<li class="level2"><a href="#autotoc_md283">MAIN domain</a></li>
<li class="level2"><a href="#autotoc_md284">System Firmware &amp; Board config</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_developer_guides_mcu_reset_isolation"></a></p>
<h1><a class="anchor" id="autotoc_md280"></a>
MCU Domain Reset Isolation: Introduction</h1>
<dl class="section note"><dt>Note</dt><dd>Reset isolation is applicable only for <b>warm reset</b> and not <b>cold reset</b></dd></dl>
<p>In AM64x/AM243x devices the MCU domain can be reset isolated from the MAIN domain in cases where the MCU domain M4 core runs a safety application. The MCU domain can run a safety application when reset isolated to:</p>
<ol type="1">
<li>Monitor the MAIN domain and reset MAIN domain from MCU domain in case of unexpected errors</li>
<li>Run a safety critical firmware completely isolated accessing only MCU domain peripherals</li>
</ol>
<p>When enabling reset isolation MCU domain can also be debug isolated, restricting JTAG access to MCU domain.</p>
<h1><a class="anchor" id="autotoc_md281"></a>
Reset Isolation: Developing a reset isolated safety application</h1>
<h2><a class="anchor" id="autotoc_md282"></a>
MCU Domain</h2>
<p>If MCU domain is isolated from accessing MAIN domain when enabling reset isolation (MCU domain running a safety critical firware accessing only MCU domain peripherals), the MCU firmware should not access any MAIN domain peripherals.</p>
<dl class="section note"><dt>Note</dt><dd>Peripherals like Mailbox, SecureProxy is in the MAIN domain, so MCU firware should not use IPC or Sciclient calls if MCU domain is isolated from accessing MAIN domain.</dd></dl>
<p>When the MCU domain is monitoring the MAIN domain the MCU domain is not isolated from accessing MAIN domain peripherals and registers. In such a use case the MCU domain can access MAIN domain.</p>
<dl class="section note"><dt>Note</dt><dd>In all reset isolation use case, on receiving reset request, the MCU domain before propogating the reset to MAIN domain, will enable isolation of MAIN domain from MCU domain and MCU domain from MAIN domain.</dd>
<dd>
When running safety applications in MCU domain, the MCU domain will be isolated from the MAIN domain</dd></dl>
<h2><a class="anchor" id="autotoc_md283"></a>
MAIN domain</h2>
<p>After reset isolation, the MAIN domain firmware should not access any MCU domain peripherals or registers. Before accessing the MCU domain registers the MAIN domain firmware should check the for the MCU MAGIC WORD in the mirrored MAIN domain register.</p>
<p>SBL running in MAIN domain also checks for the MAGIC WORD and only conditionally loads and runs MCU application. SBL also checks if reset isolation in not enabled and sends a TISCI message to change dev group to ALL so that MCU domain is also initialized by system firmware. SBL also turns on the MCU PLL if reset isolation is not enabled.</p>
<h2><a class="anchor" id="autotoc_md284"></a>
System Firmware &amp; Board config</h2>
<p>The board config dev group is changed to MAIN Domain only so that System Firmware does not access the MCU domain registers on bootup. The dev group is incremented to dev group ALL by SBL on sending a TISCI message, so that the system firmware iniializes the MCU domain </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
