<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: Ethernet PRU_ICSSG instance-0 (PRU_ICSSG0) USAGE GUIDE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM64x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">10.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ICSSG0_USAGE_GUIDE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ethernet PRU_ICSSG instance-0 (PRU_ICSSG0) USAGE GUIDE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2014">Introduction</a></li>
<li class="level1"><a href="#autotoc_md2015">Platforms Supporting PRU_ICSSG0</a></li>
<li class="level1"><a href="#autotoc_md2016">Configurations supported by PRU_ICSSG0</a></li>
<li class="level1"><a href="#autotoc_md2017">Configuring PRU_ICSSG0 instance</a></li>
<li class="level1"><a href="#autotoc_md2018">See Also</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_networking_icssg0_usage_guide"></a></p>
<h1><a class="anchor" id="autotoc_md2014"></a>
Introduction</h1>
<p>AM64X is an extension of Sitara’s industrial-grade portfolio into high-performance microcontrollers. The AM64X device is built for industrial applications, such as motor drives and remote I/O modules, which require a combination of real-time communications and processing. The AM64X family provides scalable performance with up to two instances of Sitara’s gigabit TSN-enabled PRU_ICSSG. For more information, see Programmable Real-Time Unit Subsystem and Industrial Communication Subsystem - Gigabit (PRU_ICSSG) section in Processors and Accelerators chapter in the device TRM.</p>
<p>This is a guide to use PRU_ICSSG0 instance in PRU_ICSSG peripheral. On EVMs supported by TI (AM64X-EVM, AM243X-EVM), it is not possible use this, as the PRG0_RGMII1 and PRG0_RGMII0 pins are not connected to Ethernet PHYs on those EVMs. Would need a dedicated custom board to use this PRU_ICSSG0 instance of ICSSG peripheral. PRU_ICSSG1 instance of the ICSSG peripheral has no such limitations.</p>
<p>This is the setup guide to bring up PRU_ICSSG0 instance on your custom board or ICSSG0 enabled device.</p>
<p>On AM64X, we do not have out of the box support for ICSSG0.</p>
<ul>
<li>The PRU_ICSSG0 supported on AM64X SoC, but the standard issue TI EVMs and LaunchPads do not have board support.</li>
<li>You can have PRU_ICSSG0 support with a custom board. Contact TI for more details and possibilities.</li>
</ul>
<p> <style>div.image img[src="soc_details_am64_am243.png"]{width:30%}</style> </p><div class="image">
<img src="soc_details_am64_am243.png" alt=""/>
<div class="caption">
SoC Architecture and details.</div></div>
<h1><a class="anchor" id="autotoc_md2015"></a>
Platforms Supporting PRU_ICSSG0</h1>
<p>The driver is compatible for PRU_ICSSG0 and provides full support out of the box.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0_freertos, r5fss0-0_nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SoC  </td><td class="markdownTableBodyNone">AM64X   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Supported Board  </td><td class="markdownTableBodyNone">Custom Board only*   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2016"></a>
Configurations supported by PRU_ICSSG0</h1>
<p>PRU_ICSSG0 supports all modes and combinations supported by ENET-ICSSG driver. The follwing combinations are tested and verified.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0_freertos, r5fss0-0_nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SoC  </td><td class="markdownTableBodyNone">AM64X   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MDIO modes  </td><td class="markdownTableBodyNone">Normal mode, Manual   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">MII modes  </td><td class="markdownTableBodyNone">MII, RGMII   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MAC Modes  </td><td class="markdownTableBodyNone">Dual MAC, Switch   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">LwIP compatible  </td><td class="markdownTableBodyNone">YES   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2017"></a>
Configuring PRU_ICSSG0 instance</h1>
<ul>
<li>In Sysconfig, in the ENET (ICSS) module under TI Networking section, set the instance option to select the ICSSG0.</li>
</ul>
<p> <style>div.image img[src="icssg0_system_config.png"]{width:30%}</style> </p><div class="image">
<img src="icssg0_system_config.png" alt=""/>
<div class="caption">
ICSSG0 System Configuration.</div></div>
<ul>
<li>In the same module mentioned above, set the MII/RGMII option which the custom board's PHY supports.</li>
</ul>
<p> <style>div.image img[src="icssg0_mii_config.png"]{width:30%}</style> </p><div class="image">
<img src="icssg0_mii_config.png" alt=""/>
<div class="caption">
ICSSG0 System Configuration.</div></div>
<ul>
<li>In the same module, find the EMAC Mode, and select either Dual MAC or Switch operation based on application.</li>
<li>In Sysconfig, in the ENET (ICSS) module under TI Networking section, in the Board config drop down options, find the custom board checkbox option. Please make sure to have the custom board option ENABLED.</li>
<li>In the same module mentioned above, in Board config, Update the PHY addresses of the PHYs with on board PHYs of custom board.</li>
</ul>
<p> <style>div.image img[src="icssg0_board_config.png"]{width:30%}</style> </p><div class="image">
<img src="icssg0_board_config.png" alt=""/>
<div class="caption">
ICSSG0 System Configuration.</div></div>
<ul>
<li>Follow the sequence and use appropriate PHY drivers to setup the PHYs on the add-on card for proper start up.</li>
<li>Match the configuration options in the application to update with appropriate MII mode and board ID for proper link up.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Use an ICSSG0 supporting platform to get this functionality. Refer to Supporting configurations for details.</dd></dl>
<h1><a class="anchor" id="autotoc_md2018"></a>
See Also</h1>
<p><a class="el" href="NETWORKING.html">Ethernet And Networking</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
