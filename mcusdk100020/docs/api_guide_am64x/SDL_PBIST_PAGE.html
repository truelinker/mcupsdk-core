<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: PBIST</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM64x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">10.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('SDL_PBIST_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PBIST </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2455">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md2456">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md2457">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md2458">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md2459">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md2460">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_sdl_sdl_pbist"></a></p>
<p>Built-in Self-test (BIST) is a feature that allows self testing of the memory areas and logic circuitry in an Integrated Circuit (IC) without any external test equipment. In an embedded system, these tests are typically used during boot time or shutdown of the system to check the health of an SoC.</p>
<p>PBIST is used to test the memory regions in the SoC and provides detection for permanent faults. The primary use case for PBIST is when it is invoked at start-up providing valuable information on any stuck-at bits in the memory.</p>
<p>There can be multiple instances of PBIST in the SoC, and each has a number of memory regions associated with it. SDL provides support for PBIST features such as execution of PBIST test-for-diagnostic to test the PBIST logic and execution of PBIST. The same API is used with different configuration parameters to execute each instance. Checking of the status of HW POST PBIST execution is also supported.</p>
<p>Some things to note:</p>
<ul>
<li>PBIST is expected to be run at boot-time or once per drive cycle.</li>
<li>PBIST must be run from a different core than is being tested. This is because the test is destructive in nature. For this reason also, after BIST test it is necessary to reset the module.</li>
<li>If SW-initiated PBIST is executed after the IP under test is already in use in the system, it is the application's responsibility to perform any necessary context save/restore necessary for the core/IP.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2455"></a>
Features Supported</h1>
<p>The PBIST Module of the SDL supports execution of the software-initiated PBIST for the various supported instances. It provides the following services:</p>
<ul>
<li>Execution of the PBIST test for a specified instance</li>
<li>Checking of the PBIST results</li>
<li>Restore core to system control (PBIST reset and release test mode)</li>
<li>Return the status of the test</li>
</ul>
<h1><a class="anchor" id="autotoc_md2456"></a>
SysConfig Features</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md2457"></a>
Features NOT Supported</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md2458"></a>
Important Usage Guidelines</h1>
<ul>
<li>Execution of the PBIST tests requires preparation of the IPs under test by bringing them to a certain power and reset state before executing the test. It will be required that the application bring the cores/IPs to the proper state before executing the PBIST. Additionally, there is an "exit sequence" that is required to bring the cores/IPs back to the system control after the PBIST test is executed. This will also be the responsibility of the application. The PBIST examples provided with SDL will give the necessary sequences, which can be used by the application for implementing the sequence.</li>
<li>The PBIST module uses ESM events to detect completion of the test. The application should not enable these events through SDL_ESM_init in order to prevent interference with the test execution.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2459"></a>
Example Usage</h1>
<p>The following shows an example of SDL PBIST API usage by the application to execute the PBIST test and test-for-diagnostic.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__pbist_8h.html">sdl/sdl_pbist.h</a>&gt;</span></div>
</div><!-- fragment --><p>Note: Do not initialize the ESM to detect PBIST completion events</p>
<p>Before executing the following PBIST tests, the IP under test must be brought to a certain power and reset state. The included PBIST example shows the sequence needed for each of the PBIST instances.</p>
<p>Once the core(s) are brought to the required state, the following APIs can be run.</p>
<p>Run the PBIST test-for-diagnostic:</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> PBISTResult;</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__SDL__PBIST__MODULE.html#ga6963777fedaf8341bea222a266352e94">SDL_PBIST_selfTest</a>(<a class="code" href="group__SDL__PBIST__MODULE.html#gga7824294875e2e647d5b78ebabbd66b96a64f7cae849ca9e00c4189441a8ce13b6">SDL_PBIST_INST_MPU</a>, <a class="code" href="group__SDL__PBIST__MODULE.html#ggad54eab405e362c480b95eec63aa0ce92ac9910686b7b883395439568a227215d6">SDL_PBIST_NEG_TEST</a>, timeoutVal, &amp;PBISTResult);</div>
<div class="line"><span class="keywordflow">if</span> ((status != SDL_PASS) || (PBISTResult == <span class="keyword">false</span>))</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// test failed</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Perform the PBIST test</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> PBISTResult;</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__SDL__PBIST__MODULE.html#ga6963777fedaf8341bea222a266352e94">SDL_PBIST_selfTest</a>(<a class="code" href="group__SDL__PBIST__MODULE.html#gga7824294875e2e647d5b78ebabbd66b96a64f7cae849ca9e00c4189441a8ce13b6">SDL_PBIST_INST_MPU</a>, <a class="code" href="group__SDL__PBIST__MODULE.html#ggad54eab405e362c480b95eec63aa0ce92a170dd33b758ddfb432ecb61b9dd82e37">SDL_PBIST_TEST</a>, timeoutVal, &amp;PBISTResult);</div>
<div class="line"><span class="keywordflow">if</span> ((status != SDL_PASS) || (PBISTResult == <span class="keyword">false</span>))</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// test failed</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2460"></a>
API</h1>
<p><a class="el" href="group__SDL__PBIST__MODULE.html">APIs for PBIST (Memory Built-In Self Test)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__SDL__PBIST__MODULE_html_ga6963777fedaf8341bea222a266352e94"><div class="ttname"><a href="group__SDL__PBIST__MODULE.html#ga6963777fedaf8341bea222a266352e94">SDL_PBIST_selfTest</a></div><div class="ttdeci">int32_t SDL_PBIST_selfTest(SDL_PBIST_inst instance, SDL_PBIST_testType testType, uint32_t timeout, bool *pResult)</div><div class="ttdoc">PBIST self test.</div></div>
<div class="ttc" id="asdl__pbist_8h_html"><div class="ttname"><a href="sdl__pbist_8h.html">sdl_pbist.h</a></div><div class="ttdoc">This file contains the SDL PBIST API's.</div></div>
<div class="ttc" id="agroup__SDL__PBIST__MODULE_html_ggad54eab405e362c480b95eec63aa0ce92ac9910686b7b883395439568a227215d6"><div class="ttname"><a href="group__SDL__PBIST__MODULE.html#ggad54eab405e362c480b95eec63aa0ce92ac9910686b7b883395439568a227215d6">SDL_PBIST_NEG_TEST</a></div><div class="ttdeci">@ SDL_PBIST_NEG_TEST</div><div class="ttdef"><b>Definition:</b> sdl_pbist.h:81</div></div>
<div class="ttc" id="agroup__SDL__PBIST__MODULE_html_gga7824294875e2e647d5b78ebabbd66b96a64f7cae849ca9e00c4189441a8ce13b6"><div class="ttname"><a href="group__SDL__PBIST__MODULE.html#gga7824294875e2e647d5b78ebabbd66b96a64f7cae849ca9e00c4189441a8ce13b6">SDL_PBIST_INST_MPU</a></div><div class="ttdeci">@ SDL_PBIST_INST_MPU</div><div class="ttdef"><b>Definition:</b> sdl_pbist_soc.h:77</div></div>
<div class="ttc" id="agroup__SDL__PBIST__MODULE_html_ggad54eab405e362c480b95eec63aa0ce92a170dd33b758ddfb432ecb61b9dd82e37"><div class="ttname"><a href="group__SDL__PBIST__MODULE.html#ggad54eab405e362c480b95eec63aa0ce92a170dd33b758ddfb432ecb61b9dd82e37">SDL_PBIST_TEST</a></div><div class="ttdeci">@ SDL_PBIST_TEST</div><div class="ttdef"><b>Definition:</b> sdl_pbist.h:75</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
